# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: ronanpoder <ronanpoder@student.42.fr>      +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2022/02/16 17:38:32 by rpoder            #+#    #+#              #
#    Updated: 2022/11/02 11:41:53 by ronanpoder       ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

NAME = minirt
CC = cc
#CFLAGS = -Werror -Wall -Wextra
MLX = -framework OpenGL -framework AppKit
SRCSPATH = ./src/

SRCS = $(addprefix $(SRCSPATH), \
						main.c \
						matrices/cofactor.c \
						matrices/compute_transform_matrix_2.c \
						matrices/compute_transform_matrix.c \
						matrices/determinant.c \
						matrices/matrix_operations.c \
						matrices/matrix_utils.c \
						matrices/sub_matrix.c \
						objects/sphere.c \
						ray_tracing/intersections.c \
						ray_tracing/ray.c \
						tuple/vectors.c \
						tuple/vector_operations.c \
						tuple/vector_operations_2.c \
						tuple/color_operations.c \
						tuple/colors.c \
						tools/init_tools.c \
						tools/cmp_tools.c \
						tools/print.c \
						scene/camera.c \
						scene/lights.c \
						utils/init.c \
						utils/mlx.c \
	)

OBJS = $(SRCS:.c=.o)

%.o: %.c
	$(CC) $< $(INC) $(CFLAGS) $(MLX) -I ./libs/minilibx-macos -I ./includes  -I ./includes/sub_includes -I ./libs/libft -c -o $@

all: $(NAME)

$(NAME): $(OBJS)
	$(CC) $(OBJS) $(CFLAGS) $(MLX) ./libs/libft/libft.a ./libs/minilibx-macos/libmlx.a -I ./libs/minilibx-macos -I ./includes  -I ./includes -I ./libs/libft -o $(NAME)

clean:
	rm -rf $(SRCSPATH)*.o
#make clean $(LIBFT_DIR)

fclean: clean
	rm -rf $(NAME)
#make fclean $(LIBFT_DIR)

re: fclean all

.PHONY: all clean fclean re
